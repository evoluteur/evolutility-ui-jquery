<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="../dist/css/vendors.min.css" rel="stylesheet"/>
    <link href="../dist/css/demo.css" rel="stylesheet"/>
    <link href="../dist/css/evolutility.css" rel="stylesheet"/>
    <title>Evolutility Views</title>
</head>
<body>

<div class="evo-header">
    <div class="evo-logo"><a href="../index.html"><span>evol</span>utility<span>.js</span></a></div>
    <ul class="evo-head-links">
        <li><a href="../demo/index.html">demo</a></li>
        <li><a href="../doc/index.html" class="sel">doc</a></li>
        <li><a href="https://github.com/evoluteur/evolutility" target="_new">GitHub</a></li>
    </ul>
    <ul class="evo-head-links2">
        <li><a href="views.html" class="sel">views</a></li>
        <li><a href="ui-model.html">ui-model</a></li>
        <li><a href="controller.html">controller</a></li>
    </ul>
    <div class="clearfix"></div>
</div>

<div class="evo-title2">
    <h1>Views</h1>
</div>

<div class="evo-content3">

<p>Evolutility provides a set of Backbone views
    for manipulating (viewing, editing, filtering, exporting...) Backbone models and collections.
    These views are not defined in templates and custom code
    but configured by a <a href="ui-model.html">ui-model</a>.</p>


<p>Evolutility views are of 3 different types:

<ul class="evo-links-views">
    <li>Views for <strong>one</strong> model: <a href="#one">Evol.ViewOne</a>
        <br/>
        <a href="#one-view"><i class="glyphicon glyphicon-file"></i>View</a>,
        <a href="#one-edit"><i class="glyphicon glyphicon-th"></i>Edit</a>,
        <a href="#one-mini"><i class="glyphicon glyphicon-th-large"></i>Mini</a> (quick-edit),
        <a href="#one-json"><i class="glyphicon glyphicon-barcode"></i>JSON</a>...
    </li>

    <li>Views for a collection of <strong>many</strong> models: <a href="#many">Evol.ViewMany</a>
        <br/>
        <a href="#many-list"><i class="glyphicon glyphicon-th-list"></i>List</a>,
        <a href="#many-badges"><i class="glyphicon glyphicon-th-large"></i>Badges</a>,
        <a href="#many-charts"><i class="glyphicon glyphicon-stats"></i>Charts</a>...
    </li>

    <li>Views for <strong>actions</strong> on a collection or a model: <a href="#action">Evol.ViewAction</a>
        <br/>
        <a href="#action-filter"><i class="glyphicon glyphicon-filter"></i>Filter</a>,
        <a href="#action-export"><i class="glyphicon glyphicon-cloud-download"></i>Export</a>...
    </li>

</ul>

Views API: <a href="#methods">Methods</a>,
<a href="#options">Options</a>,
<a href="#events">Events</a>.

</p>

<p>A large part of the API (<a href="#methods">methods</a>, <a href="#options">options</a> and <a
        href="#events">events</a>) is common to all views.
    Some views have additional API.
</p>

<p>More Views will be added in the future (thinking of Summary, Import, Mass update, Group, Dashboard, Report, PDF,
    Auto-documentation and specs...).


<div class="evol-doc-views">

<a name="one" class="evo-anchor">&nbsp;</a>
<section id="views-one">
    <h2>Evol.ViewOne</h2>

    <p>Backbone views for <strong>one</strong> model.</p>

    <p class="evo-links-views">
        <a href="#one-view"><i class="glyphicon glyphicon-file"></i>View</a>,
        <a href="#one-edit"><i class="glyphicon glyphicon-th"></i>Edit</a>,
        <a href="#one-mini"><i class="glyphicon glyphicon-th-large"></i>Mini</a> (quick-edit),
        <a href="#one-json"><i class="glyphicon glyphicon-barcode"></i>JSON</a>...
    </p>

    <a name="one-view" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-file"></i>&nbsp;View</h3>

    <p>Shows all fields for viewing (read only). Fields are grouped in panels and tabs.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/one-view.png"/> <br/>&nbsp;
    </div>
    <p><code>var vw = new Evol.ViewOne.View(myConfig);</code></p>
    <div id="v-view"></div>


    <a name="one-edit" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-th"></i>&nbsp;Edit</h3>

    <p>This view shows all fields for edition to create or update models.
        It automatically performs validation based on the UI-model and supports
        the Master-Details pattern (nested collections).
        Fields are grouped in panels and tabs.
    </p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/one-edit.png"/> <br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewOne.Edit(myConfig);
    </code></p>


    <a name="one-mini" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-th-large"></i>&nbsp;Mini (quick-edit)</h3>

    <p>Only shows important fields (required or showing as a column in grids). Fields are grouped in a single panel.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/one-mini.png"/> <br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewOne.Mini(myConfig);</code></p>

    <a name="one-json" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-barcode"></i>&nbsp;JSON</h3>

    <p>JSON representation of the data.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/one-json.png"/> <br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewOne.JSON(myConfig);</code></p>

    <p>Other possible views: Wizard...</p>
</section>

<a name="many" class="evo-anchor">&nbsp;</a>
<section id="views-many">


    <h2>Evol.ViewMany</h2>

    <p>Backbone views for a collection containing <strong>many</strong> models.</p>

    <p class="evo-links-views">
        <a href="#many-list"><i class="glyphicon glyphicon-th-list"></i>List</a>,
        <a href="#many-badges"><i class="glyphicon glyphicon-th-large"></i>Badges</a>,
        <a href="#many-charts"><i class="glyphicon glyphicon-stats"></i>Charts</a>...</li>
    </p>
    <a name="many-list" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-th-list"></i>&nbsp;List</h3>

    <p>Gives a tabular view of a collection with paging.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/many-list.png"/><br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewMany.List(myConfig);</code></p>

    <a name="many-badges" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-th-large"></i>&nbsp;Badges</h3>

    <p>Shows records side by side as badges.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/many-badges.png"/><br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewMany.Badges(myConfig);</code></p>


    <a name="many-charts" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-stats"></i>&nbsp;Charts</h3>

    <p>Draws charts about the collection.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/many-charts.png"/><br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewMany.Charts(myConfig);</code></p>


</section>

<a name="action" class="evo-anchor">&nbsp;</a>
<section id="views-action">

    <h2>Evol.ViewAction</h2>

    <p>Backbone Views for actions on a collection or a model.</p>

    <p class="evo-links-views">
        <a href="#action-filter"><i class="glyphicon glyphicon-filter"></i>Filter</a>,
        <a href="#action-export"><i class="glyphicon glyphicon-cloud-download"></i>Export</a>...
    </p>


    <a name="action-filter" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-filter"></i>&nbsp;Filter</h3>

    <p>View used to build a structured query to filter a collection.</p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/action-filter.png"/><br/>&nbsp;
    </div>
    <p>Filter example: "phone number start by 415" or "for
        categories Finances and Business"...&nbsp;</p>

    <p><code>
        var vw = new Evol.ViewAction.Filter(myConfig);</code></p>


    <a name="action-export" class="evo-anchor">&nbsp;</a>

    <h3><i class="glyphicon glyphicon-cloud-download"></i>&nbsp;Export</h3>

    <p>View to define export options and preview the collection export in different data formats (CSV, TAB, HTML, XML,
        SQL and JSON).
    </p>

    <div class="evol-doc-views">
        <img class="pixEvoMode shadow" src="screenshots/action-export.png"/><br/>&nbsp;
    </div>
    <p><code>
        var vw = new Evol.ViewAction.Export(myConfig);</code></p>


</section>


<a name="methods" class="evo-anchor">&nbsp;</a>
<section>
    <h2>Methods</h2>

    <p><br>Methods common to Evol.ViewOne (Edit, View, Mini, JSON) and Evol.ViewMany (List, Badges, Charts):</p>
    <p><strong>render()</strong>: Renders the view in the DOM.</p>
    <p><strong>getFields()</strong>: Returns an array of the UI-model fields present in the view.</p>
    <p><strong>getModel(), setModel(model)</strong>: Gets or sets the Backbone model.</p>
    <p><strong>getUIModel(), setUIModel(uiModel)</strong>: Gets or sets the UI model.</p>
    <p><strong>getTitle(), setTitle(title)</strong>: Gets or sets the view title.</p>


    <p><br>Methods specific to Evol.ViewOne (Edit, View, Mini, JSON):</p>
    <p><strong>clear()</strong>: Clears the content of all fields.</p>
    <p><strong>clearErrors()</strong>: Remove previous validation warnings.</p>
    <p><strong>getData(), setData(data)</strong>: Gets or sets all fields values at the same time.</p>
    <p><strong>getFieldValue(fid), setFieldValue(fid, value)</strong>: Gets or sets the value of a specific field.</p>
    <p><strong>getFieldProp(fid, property), setFieldProp(fid, property, value)</strong>: Gets or sets a field property for a specific field. Supported properties: "value", "enabled", "visible".</p>
    <p><strong>getSubCollecs()</strong>: Returns an array of sub-collections definitions from the UI-model.</p>
    <p><strong>validate()</strong>: Validates all fields and shows warnings if necessary.</p>


    <p><br>Methods specific to Evol.ViewMany (List, Badges, Charts):</p>
    <p><strong>getCollection(), setCollection(collec)</strong>: Gets or sets the collection.</p>
    <p><strong>getFilter(), setFilter(filter)</strong>: Gets or sets the collection filter (from Evol.ViewAction.Filter).</p>
    <p><strong>getPage(), setPage(pageIndex)</strong>: Gets or sets the page index for pagination.</p>
    <p><strong>sortList(field, upOrDown, [noRemember], [noTrigger])</strong>: Sorts the list by a specific field.</p>
    <p><strong>getSelection(), setSelection([fieldId])</strong>: Gets or sets rows selection.</p>


    <p><br>Methods specific to Evol.ViewAction.Filter:</p>
    <p><strong>val</strong>: Returns the filter value.</p>
    <p><strong>valText</strong>: Default value = false.</p>
    <p><strong>clear</strong>: Default value = false.</p>
    <p><strong>addCondition(condition), removeCondition(index)</strong>: Default value = false.</p>

    <p><br>Methods specific to Evol.ViewAction.Export:</p>
    <p><strong>val</strong>: Returns the selected export settings.</p>

</section>

<a name="options" class="evo-anchor">&nbsp;</a>
<section>
    <h2>Options</h2>

    <p><br>Options common to Evol.ViewOne (Edit, View, Mini, JSON) and Evol.ViewMany (List, Badges, Charts):</p>
    <p><strong>iconsPath</strong>: Path to icons for model and list of values.</p>

    <p><br>Options specific to Evol.ViewOne (Edit, View, Mini, JSON):</p>
    <p><strong>button_addAnother</strong>: Show a "Save and Add Another" button next to "Save". Default value = false.</p>

    <p><br>Options specific to Evol.ViewMany.List and Evol.ViewMany.Badges:</p>
    <p><strong>pageSize</strong>: Maximum number of models per page. Default value = 20.</p>
    <p><strong>pageIndex</strong>: Index of the current page. Default value = 0.</p>
    <p><strong>selectable</strong>: Specify if a checkbox will be displayed for each model. Default value = false.</p>

</section>


<a name="events" class="evo-anchor">&nbsp;</a>
<section>

    <h2>Events</h2>

    <p>Events for Evol.ViewOne (Edit, View, Mini, JSON):</p>
    <div id="evt-one">
        <p><strong>action</strong>: Triggered when buttons are clicked. data = 'add', 'add-new', 'cancel', 'validate'.</p>
        <p><strong>toggle.panel</strong>: Triggered when a panel is expended or collapsed.</p>
        <p><strong>show.tab</strong>: Triggered when the active tab changes.</p>
    </div>


    <p><br>Events for Evol.ViewMany.List and Evol.ViewMany.Badges:</p>
    <div id="evt-many">
        <p><strong>selection.many</strong>: Triggered when the selection changes.</p>
        <p><strong>navigate.many</strong>: Triggered when a link to a model is clicked.</p>
        <p><strong>sort.many</strong>: Triggered on sort.</p>
        <p><strong>paginate.many</strong>: Triggered on pagination.</p>
    </div>

    <p><br>Events for Evol.ViewAction.Filter:</p>
    <div id="evt-filter">
        <p><strong>change.filter</strong>: Triggered when a filter condition changes.</p>
        <p><strong>submit.filter</strong>: Triggered on submit (if options allow the submit button).</p>
    </div>

    <p><br>Events for Evol.ViewAction.Export:</p>
    <div id="evt-export">
        <p><strong>action</strong>: Triggered when the "Download" button is clicked. data = format.</p>
        <p><strong>change.export</strong>: Triggered when any export setting changes.</p>
    </div>

</section>

</div>
<p></p>

<p><br/>evolutility.js at <a href="https://github.com/evoluteur/evolutility" target="download">GitHub</a></p>

</div>

<div class="footer">&#169; 2014 Olivier Giulieri</div>
</body>

</html>